import{W as n,_ as a,k as i,n as s}from"./chunk-YATBRIT5.js";var l="http://3.22.188.1",c=l+"/api";var u=(()=>{let t=class t{constructor(){}encode(e){return btoa(e)}decode(e){return atob(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var I=(()=>{let t=class t{constructor(e,r,p){this.http=e,this.route=r,this.appService=p,this.tokenNameStorage=this.appService.encode("token"),this.userNameStorage=this.appService.encode("user")}login(e){let r=`${c}/Authentication/Login/${e.email}/${e.password}`;return this.http.get(r)}saveCredentials(e){localStorage.setItem(this.tokenNameStorage,this.appService.encode(e.token)),localStorage.setItem(this.userNameStorage,this.appService.encode(JSON.stringify(e.user)))}isLogged(){let e=localStorage.getItem(this.tokenNameStorage);return!!(localStorage.getItem(this.userNameStorage)&&e)}toLogin(){this.route.navigate(["Login"])}toHome(){this.route.navigate([""])}token(){return this.isLogged()?this.appService.decode(localStorage.getItem(this.tokenNameStorage)??""):""}logout(){localStorage.clear()}user(){if(this.isLogged()){let e=this.appService.decode(localStorage.getItem(this.userNameStorage)??"");return JSON.parse(e)}return null}userIsEmpleado(){return this.user()?.id_user_role===2}userIsAdmin(){return this.user()?.id_user_role===1}};t.\u0275fac=function(r){return new(r||t)(s(n),s(a),s(u))},t.\u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();export{I as a};
